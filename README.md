#### 项目简介
##### 工业传感器信息数据管理系统   
基于SpringBoot3.x、Layui、Thymeleaf、MybatisPlus、SpringSecurity、MySQL等框架开发的非前后端分离项目。

#### 开发人员
###### [sixiwenwu](http://sixiwenwu.com)

#### 功能模块
- 数据图表：以天为单位查看具体设备采集到的信息绘生成表格。
- 数据表格：根据不同设备类型区分表格，统一查看设备最新采集信息。
- 用户管理（管理员）：维护系统用户，用户启用停用过期时间等设置。
- 登录日志（管理员）：系统登录日志记录查询包含登录异常。
- DTU管理（管理员）：主要对系统收录的DTU进行维护，未收录的DTU无法添加设备。
- 设备管理（管理员）：主要对系统收录的采集设备的信息进行维护，为用户绑定设备进行支撑。
- 设备管理（普通用户）：对绑定设备进行管理，为数据表格与图表提供数据支持。
- 开发文档（开发者）：使用Swagger3.0API开发文档。
- 数据库管理（开发者）：Druid数据源内置数据源管理模块。

#### 版本更新日志
> 1.0.7-beta  
更新欢迎页除系统名称和系统版本外的信息只有管理员可见  
新增邮件发送模块  
新增报警短信发送模块  
优化报错界面，减少报错字符  
去除开发人员登录日志
新增登录日志删除功能
页面增加加载等待动画
整合邮件动态发件人功能
添加邮件管理页面
上线日期：2021-11-27

> 1.0.6-beta  
更新数据表格页面，缩减页面大小，整合表格加载方式为js加载，表格添加工具栏，列选择显示功能，整表数据导出功能，整表数据打印功能  
更新提交登录设置超时30秒  
更新完善控制器API描述  
*尝试====>修复Layui监听表单提交使用submit导致java.io.IOException: 你的主机中的软件中止了一个已建立的连接  
上线日期：20211003 16:30  

> 1.0.5-1-beta  
修复接口权限  
上线日期：20210930 21:50  

> 1.0.5-beta  
更新合并管理员采集设备管理操作的修改与查看绑定用户按钮  
更新管理员侧采集设备管理，表格数据查询，添加设备，设备删除与批量删除，设备详情，设备信息修改，设备绑定用户查询，设备绑定用户，设备用户解绑  
JS代码整合  
上线日期：20210930 18:20 

> 1.0.4-alpha  
修复Druid管理页无法访问  
将各页面x-nav转为公共组件  
配置系统参数  
更新欢迎页功能，DTU设备数量显示，采集设备数量显示，系统信息显示  
修复登录日志分页不生效  
更新登录日志倒叙显示  
修复非管理员用户可获取登录日志  
更新数据表格概览，搜索移除，日期时间列合并  
更新用户测采集设备管理，表格数据查询，绑定设备（暂未整合管理员审核），设备解绑与批量解绑  
上线日期：20210928 23:10  

> 1.0.3-alpha  
数据图表添加坐标轴  
修复无法查询通道编号为0的传感器的数据  
更新用户登录模块,登录时对用户是否可用和有效期校验  
更新管理员用户管理模块,管理员对普通用户的停用和启用操作,管理员设置用户过期时间,用户表格查询,用户规则和操作列显示优化  
更新管理员DTU设备管理模块,DTU设备查询,DTU设备添加,DTU设备修改,DTU设备删除与批量删除  
上线日期:20210926 22:59  

> 1.0.2-alpha  
服务器带宽太低，资源文件更改为CDN站外引入，加快访问速度  
更新数据图表查看功能  
更新数据表格数据呈现为倒叙 上线日期:20210925 20:26  

> 1.0.1-alpha  
项目重写，整体框架更新，所有功能逻辑重写  
完成基本数据查询功能（DTU，用户，采集设备）  
完成登录功能


#### 安全&缺陷
登录日志删除  
向数据请求超时Druid日志报错：discard long time none received connection  

#### 特殊接口
- 普通邮件发送接口   

请求方式

| 请求地址                | 请求方式     | 请求参数格式 |
| --------------------- | ----------- | ---------- |
| /message/email/send   | POST        | JSON       |

请求参数

| 属性    | 类型       | 要求          | 说明          |
| --------- | --------- | ------------- | ------------ |
| to        | string    | 不为空         | 接收人邮箱     |
| subject   | string    | 不为空         | 标题          |
| content   | string    | 不为空         | 内容          |
| id        | string    | 固定为"csszkj" | 校验ID        |

返回值

| 属性       | 类型       | 说明                   |
| --------- | --------- | ---------------------- |
| code      | int       | 状态码，0为成功，其他为异常 |
| msg       | string    | 状态信息                |
| data      | object    | 始终为NULL              |
| count     | int       | 始终为0                 |

- 传感器数据异常警告短信接口   

请求方式

| 请求地址                | 请求方式     | 请求参数格式 |
| --------------------- | ----------- | ---------- |
| /message/sms/warn   | POST        | JSON       |

请求参数

| 属性       | 类型       | 要求          | 说明          |
| --------- | --------- | ------------- | ------------ |
| phoneNum  | string    | 不为空         | 接收人手机号码，不加区号，例如”19919991991“      |
| dtu       | string    | 不为空         | 异常DTU序列号，例：122212121221               |
| device    | string    | 不为空         | 异常采集设备序列号，例：ABCDEF                  |
| noc       | string    | 不为空         | 异常通道编号，例：7                            |
| data      | string    | 不为空         | 异常数值，例：-70.1                           |
| beyond    | string    | 不为空         | 超出异常数值大小，高于为正数，低于为负数，例：-20.1  |
| time      | string    | 不为空         | 异常数据绝对采集时间，例：2020-01-01 12：00：00  |
| id        | string    | 固定为"csszkj" | 校验ID                                      |

返回值

| 属性       | 类型       | 说明                   |
| --------- | --------- | ---------------------- |
| code      | int       | 状态码，0为成功，其他为异常 |
| msg       | string    | 状态信息                |
| data      | object    | 始终为NULL              |
| count     | int       | 始终为0                 |



王珏组员修改
<<<<<<< HEAD
王珏组员第二次啦
肖晴修改
=======
肖晴修改
1111
>>>>>>> 4d59be7ee0c6071cee1c2b00ee39afe5c2475df6
